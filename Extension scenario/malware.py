import socket
import os
import time

#Information sensible à retrouver en mémoire
SECRET_TOKEN = "VOICI MA SUPER CLE PRIVEE" * 10

print(f"Malware lancé avec le PID: {os.getpid()}")

# Simulation d'une écoute réseau (Backdoor)
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
s.bind(('0.0.0.0', 4444))
s.listen(1)

# Force le token à rester en mémoire en l'utilisant périodiquement
token_cache = []
while True:
    # Utilise le token pour le garder en mémoire active
    token_cache.append(SECRET_TOKEN + str(time.time()))
    if len(token_cache) > 5:
        token_cache.pop(0)
    time.sleep(1)